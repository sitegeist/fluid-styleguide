var Xn={};/*!
 *  @preserve
 *  
 *  @module      iframe-resizer/legacy (child) 5.5.7 (iife) 
 *
 *  @license     GPL-3.0 for non-commercial use only.
 *               For commercial use, you must purchase a license from
 *               https://iframe-resizer.com/pricing
 * 
 *  @description Keep same and cross domain iFrames sized to their content 
 *
 *  @author      David J. Bradshaw <info@iframe-resizer.com>
 * 
 *  @see         {@link https://iframe-resizer.com}
 * 
 *  @copyright  (c) 2013 - 2025, David J. Bradshaw. All rights reserved.
 */var Kn;function Or(){return Kn||(Kn=1,(function(){const G="font-weight: normal;",Je="font-weight: bold;",Ht="font-style: italic;",eo=G+Ht,de="default",to=Object.freeze({assert:!0,error:!0,warn:!0}),Ut={expand:!1,defaultEvent:void 0,event:void 0,label:"AutoConsoleGroup",showTime:!0},no={profile:0,profileEnd:0,timeStamp:0,trace:0},Y=Object.assign(console),{fromEntries:oo,keys:ro}=Object,ao=t=>[t,Y[t]],io=t=>o=>[o,function(a){t[o]=a}],Qe=(t,o)=>oo(ro(t).map(o)),Vt=!(typeof window>"u"||typeof window.matchMedia!="function")&&window.matchMedia("(prefers-color-scheme: dark)").matches,I=Vt?"color: #A9C7FB;":"color: #135CD2;",Ge=Vt?"color: #E3E3E3;":"color: #1F1F1F;",ne="5.5.7",Ye="iframeResizer",$e=":",Xe="init",Zt="message",_t="pageHide",Jt="pageInfo",Qt="parentInfo",Gt="scrollToOffset",so="title",oe=10,Se="data-iframe-size",Yt="data-iframe-overflowed",fe="data-iframe-ignore",Ke="height",Xt="width",et="offset",tt="offsetSize",Oe="string",N="number",lo="object",me="function",nt="auto",ot="readystatechange",rt="bottom",at="right",it="autoResizeEnabled",Kt=Symbol("sizeChanged"),en="manualResize",tn="parentResize",co={[en]:1,[tn]:1},nn="setOffsetSize",on="resizeObserver",st="overflowObserver",rn="mutationObserver",an="visibilityObserver",lt="[iFrameSizer]",sn=new Set(["head","body","meta","base","title","script","link","style","map","area","option","optgroup","template","track","wbr","nobr"]),H=(t,o,a,u)=>t.addEventListener(o,a,u||!1),ln=t=>{if(!t)return"";let o=-559038744,a=1103547984;for(let u,d=0;d<t.length;d++)u=t.codePointAt(d),o=Math.imul(o^u,2246822519),a=Math.imul(a^u,3266489917);return o^=Math.imul(o^a>>>15,1935289751),a^=Math.imul(a^o>>>15,3405138345),o^=a>>>16,a^=o>>>16,(2097152*(a>>>0)+(o>>>11)).toString(36)},X=t=>t.replace(/[A-Za-z]/g,o=>String.fromCodePoint((o<="Z"?90:122)>=(o=o.codePointAt(0)+19)?o:o-26)),Ee=["spjluzl","rlf","clyzpvu"],uo=["<yi>Puchspk Spjluzl Rlf</><iy><iy>","<yi>Tpzzpun Spjluzl Rlf</><iy><iy>","Aopz spiyhyf pz hchpshisl dpao ivao Jvttlyjphs huk Vwlu-Zvbyjl spjluzlz.<iy><iy><i>Jvttlyjphs Spjluzl</><iy>Mvy jvttlyjphs bzl, <p>pmyhtl-ylzpgly</> ylxbpylz h svd jvza vul aptl spjluzl mll. Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.<iy><iy><i>Vwlu Zvbyjl Spjluzl</><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-jvttlyjphs vwlu zvbyjl wyvqlja aolu fvb jhu bzl pa mvy myll bukly aol alytz vm aol NWS C3 Spjluzl. Av jvumpyt fvb hjjlwa aolzl alytz, wslhzl zla aol <i>spjluzl</> rlf pu <p>pmyhtl-ylzpgly</> vwapvuz av <i>NWSc3</>.<iy><iy>Mvy tvyl pumvythapvu wslhzl zll: <b>oaawz://pmyhtl-ylzpgly.jvt/nws</>","<i>NWSc3 Spjluzl Clyzpvu</><iy><iy>Aopz clyzpvu vm <p>pmyhtl-ylzpgly</> pz ilpun bzlk bukly aol alytz vm aol <i>NWS C3</> spjluzl. Aopz spjluzl hssvdz fvb av bzl <p>pmyhtl-ylzpgly</> pu Vwlu Zvbyjl wyvqljaz, iba pa ylxbpylz fvby wyvqlja av il wbispj, wyvcpkl haaypibapvu huk il spjluzlk bukly clyzpvu 3 vy shaly vm aol NUB Nlulyhs Wbispj Spjluzl.<iy><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-vwlu zvbyjl wyvqlja vy dlizpal, fvb dpss ullk av wbyjohzl h svd jvza vul aptl jvttlyjphs spjluzl.<iy><iy>Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.","<iy><yi>Zvsv spjluzl kvlz uva zbwwvya jyvzz-kvthpu</><iy><iy>Av bzl <p>pmyhtl-ylzpgly</> dpao jyvzz kvthpu pmyhtlz fvb ullk lpaoly aol Wyvmlzzpvuhs vy Ibzpulzz spjluzlz. Mvy klahpsz vu bwnyhkl wypjpun wslhzl jvuahja pumv@pmyhtl-ylzpgly.jvt.","Pu whnl spurpun ylxbpylz h Wyvmlzzpvuhs vy Ibzpulzz spjluzl. Wslhzl zll <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</> mvy tvyl klahpsz."],fo=["NWSc3","zvsv","wyv","ibzpulzz","vlt"],cn=Object.fromEntries(["2cgs7fdf4xb","1c9ctcccr4z","1q2pc4eebgb","ueokt0969w","w2zxchhgqz","1umuxblj2e5"].map((t,o)=>[t,Math.max(0,o-1)])),re=t=>X(uo[t]);var un=t=>{const o=t[X(Ee[0])]||t[X(Ee[1])]||t[X(Ee[2])];if(!o)return-1;const a=o.split("-");let u=(function(d=""){let y=-2;const b=ln(X(d));return b in cn&&(y=cn[b]),y})(a[0]);return u===0||(d=>d[2]===ln(d[0]+d[1]))(a)||(u=-2),u};const Me=(t,...o)=>setTimeout(()=>t(...o),0),dn=t=>{let o=!1;return function(){return o?void 0:(o=!0,Reflect.apply(t,this,arguments))}},ke=t=>t,ct=t=>Math.round(1e3*t)/1e3,fn=t=>t.charAt(0).toUpperCase()+t.slice(1),ae=t=>`${t}`!=""&&t!==void 0,mo=t=>t(),E=(t,o,a)=>{if(typeof t!==o)throw new TypeError(`${a} is not a ${fn(o)}`)};let ut=!0,dt=Ye;const po=(je=function(t={}){const o={},a={},u=[],d={...Ut,expand:!t.collapsed||Ut.expanded,...t};let y="";function b(){u.length=0,y=""}function C(){delete d.event,b()}const M=()=>!!u.some(([s])=>s in to)||!!d.expand;function x(){if(u.length!==0){Y[M()?"group":"groupCollapsed"](`%c${d.label}%c ${(s=>{const m=s.event||s.defaultEvent;return m?`${m}`:""})(d)} %c${d.showTime?y:""}`,G,Je,eo);for(const[s,...m]of u)Y.assert(s in Y,`Unknown console method: ${s}`),s in Y&&Y[s](...m);Y.groupEnd(),C()}else C()}function v(){y===""&&(y=(function(){const s=new Date,m=(R,A)=>s[R]().toString().padStart(A,"0");return`@ ${m("getHours",2)}:${m("getMinutes",2)}:${m("getSeconds",2)}.${m("getMilliseconds",3)}`})())}function h(s,...m){u.length===0&&(v(),queueMicrotask(()=>queueMicrotask(x))),u.push([s,...m])}function T(s=de,...m){o[s]?h("log",`${s}: ${performance.now()-o[s]} ms`,...m):h("timeLog",s,...m)}return{...Qe(d,io(d)),...Qe(console,s=>[s,(...m)=>h(s,...m)]),...Qe(no,ao),assert:function(s,...m){s!==!0&&h("assert",s,...m)},count:function(s=de){a[s]?a[s]+=1:a[s]=1,h("log",`${s}: ${a[s]}`)},countReset:function(s=de){delete a[s]},endAutoGroup:x,errorBoundary:s=>(...m)=>{let R;try{R=s(...m)}catch(A){if(!Error.prototype.isPrototypeOf(A))throw A;h("error",A),x()}return R},event:function(s){v(),d.event=s},purge:b,time:function(s=de){v(),o[s]=performance.now()},timeEnd:function(s=de){T(s),delete o[s]},timeLog:T,touch:v}},je?.__esModule?je.default:je);var je;const pe=po({label:`${Ye}(child)`,expand:!1});var mn;const f=(mn="log",(...t)=>!ut||pe[mn](...t)),{assert:ho,endAutoGroup:ie,error:pn,errorBoundary:ft,event:S,label:yo,purge:xe,warn:U}=pe,O=t=>{return pe.warn((o=ke,a=>window.chrome?o(a.replaceAll("<br>",`
`).replaceAll("<rb>","\x1B[31;1m").replaceAll("</>","\x1B[m").replaceAll("<b>","\x1B[1m").replaceAll("<i>","\x1B[3m").replaceAll("<u>","\x1B[4m")):o(a.replaceAll("<br>",`
`).replaceAll(/<[/a-z]+>/gi,"")))(t));var o},mt=(t=>(o,a="renamed to")=>(u,d,y="",b="")=>t(b,`<rb>Deprecated ${o}(${u.replace("()","")})</>

The <b>${u}</> ${o.toLowerCase()} has been ${a} <b>${d}</>. ${y}Use of the old ${o.toLowerCase()} will be removed in a future version of <i>iframe-resizer</>.`))((t,o)=>O(o)),pt=mt("Method"),go=mt("Method","replaced with"),vo=mt("Option"),bo=["min-height","min-width","max-height","max-width"],hn=new Set,yn=(t,o)=>window.getComputedStyle(t).getPropertyValue(o),wo=(t,o)=>{return(a=yn(t,o))&&a!=="0px"&&a!==nt&&a!=="none";var a};function zo({href:t}){hn.has(t)||hn.add(t)}const $o=(t,o)=>(function(a,u){const d=a.style[u];return d?{source:"an inline style attribute",value:d}:null})(t,o)||(function(a,u){for(const d of document.styleSheets)try{for(const y of d.cssRules||[])if(y.selectorText&&a.matches(y.selectorText)){const b=y.style[u];if(b)return{source:d.ownerNode.tagName==="STYLE"?"an inline <style> block":`stylesheet (${d.href})`,value:b}}}catch{zo(d)}return{source:"cross-origin stylesheet",value:yn(a,u)}})(t,o),So=(t,o)=>{const{source:a,value:u}=$o(t,o),d=(y=>y.tagName?y.tagName.toLowerCase():"unknown")(t);O(`The <b>${o}</> CSS property is set to <b>${u}</> on the <b><${d}></> element via ${a}. This may cause issues with the correct operation of <i>iframe-resizer</>.

If you wish to restrict the size of the iframe, then you should set this property on the iframe element itself, not the content inside it.`)};function Oo(){for(const t of[document.documentElement,document.body])for(const o of bo)wo(t,o)&&So(t,o)}const gn=t=>o=>o===void 0?void 0:t(o),K=gn(t=>t==="true"),he=gn(Number),vn=t=>o=>{o.size},bn=((t="")=>o=>a=>{a.size>0&&pn(`${o}Observer ${t}:`,...Array.from(a).flatMap(u=>[`
`,u]))})("already attached"),Eo=t=>o=>{o.size},Te=(t,o=!0)=>a=>{a>0&&f(`${o?"At":"De"}tached ${t}Observer ${o?"to":"from"} %c${a}%c element${a===1?"":"s"}`,I,G)},wn=(t,o,a,u)=>{const d=Eo();return y=>{const b=new Set;let C=0;for(const M of y)a.has(M)&&(o.unobserve(M),a.delete(M),b.add(M),C+=1);d(b),u(C),b.clear()}},V=new Set,se=new Set,ht=new Set,Ae=[],Mo={attributes:!0,attributeFilter:[fe,Se],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!0};let yt,gt=1,vt=!1,bt=0;const ko=t=>{t.size},jo=t=>{t.size},xo=t=>{t.size},zn=t=>t.nodeType!==Node.ELEMENT_NODE||sn.has(t.tagName.toLowerCase());function To(t){const o=t.addedNodes;for(const a of o)zn(a)||V.add(a)}function Ao(t){const o=t.removedNodes;for(const a of o)zn(a)||(V.has(a)?(V.delete(a),ht.add(a)):se.add(a))}const Io=t=>{f("Mutations:",t);for(const o of t)To(o),Ao(o);ko(V),jo(se),xo(ht),ht.clear()},No=t=>()=>{const o=performance.now(),a=o-bt,u=16*gt+++2;if(a>u&&a<200)return S("mutationThrottled"),f("Update delayed due to heavy workload on the callStack"),f(`EventLoop busy time: %c${ct(a)}ms %c> Max wait: %c${u-2}ms`,I,Ge,I),setTimeout(yt,16*gt),void(bt=o);gt=1,Ae.forEach(Io),Ae.length=0,vt=!1,se.size,V.size,t({addedNodes:V,removedNodes:se}),V.clear(),se.clear()};function Co(t){Ae.push(t),vt||(bt=performance.now(),vt=!0,requestAnimationFrame(yt))}function Po(t){const o=new window.MutationObserver(Co),a=document.body||document.documentElement;return yt=No(t),o.observe(a,Mo),f("Attached MutationObserver to body"),{...o,disconnect:()=>{V.clear(),se.clear(),Ae.length=0,o.disconnect(),f("Detached MutationObserver")}}}const Ie="Overflow",Ro=Te(Ie),qo=Te(Ie,!1),Lo=vn(),Bo=bn(Ie),Wo=t=>t.hidden||t.offsetParent===null||t.style.display==="none",Do=(t,o)=>{const a=o.side,u={root:o.root,rootMargin:"0px",threshold:1},d=window?.requestAnimationFrame||ke,y=(v=!1)=>t(v),b=(v,h)=>v===0||v>h[a],C=(v,h)=>v.toggleAttribute(Yt,h),M=new IntersectionObserver(function(v){for(const h of v){const{boundingClientRect:T,rootBounds:s,target:m}=h;if(!s)continue;const R=T[a],A=b(R,s)&&!Wo(m);C(m,A)}d(y)},u),x=new WeakSet;return{attachObservers:function(v){const h=new Set,T=new Set;let s=0;for(const m of v)m.nodeType===Node.ELEMENT_NODE&&(x.has(m)?h.add(m):(M.observe(m),x.add(m),T.add(m),s+=1));Bo(h),Lo(T),Ro(s),T.clear(),h.clear()},detachObservers:wn(Ie,M,x,qo),disconnect:()=>{M.disconnect(),f("Detached OverflowObserver")}}},wt="--ifr-start",Ne="--ifr-end",$n="--ifr-measure",W=[];let zt,Ce={},Sn=0;function On(){try{performance.clearMarks(wt),performance.clearMarks(Ne),performance.clearMeasures($n)}catch{}}function Fo(t){t.getEntries().forEach(o=>{if(o.name===Ne)try{const{duration:a}=performance.measure($n,wt,Ne);Ce=o.detail,W.push(a),W.length>100&&W.shift()}catch{}})}function Ho(){f("Attached PerformanceObserver to page");const t=new PerformanceObserver(Fo);return t.observe({entryTypes:["mark"]}),zt=setInterval(()=>{if(W.length<10||Ce.hasTags&&Ce.len<25)return;W.sort();const o=Math.min(W.reduce((u,d)=>u+d,0)/W.length,W[Math.floor(W.length/2)]),a=ct(o);a>Sn&&(Sn=a,S("performanceObserver")),On(),o<=4||(clearInterval(zt),O(`<rb>Performance Warning</>

Calculating the page size is taking an excessive amount of time (${ct(o)}ms).

To improve performance add the <b>data-iframe-size</> attribute to the ${Ce.Side.toLowerCase()} most element on the page. For more details see: <u>https://iframe-resizer.com/perf</>.`))},5e3),{disconnect:()=>{On(),clearInterval(zt),t.disconnect(),f("Detached PerformanceObserver")}}}const Pe="Resize",Uo=Te(Pe),Vo=Te(Pe,!1),Zo=vn(),_o=bn(Pe),Re=new WeakSet,$t=new Set,St=new Set;let ye;function Jo(t){let o=0;for(const a of t){if(a.nodeType!==Node.ELEMENT_NODE)continue;const u=getComputedStyle(a)?.position;u!==""&&u!=="static"&&(Re.has(a)?$t.add(a):(ye.observe(a),Re.add(a),St.add(a),o+=1))}_o($t),Zo(St),Uo(o),St.clear(),$t.clear()}function Qo(t){const o=new IntersectionObserver(u=>t(u[0].isIntersecting),{threshold:0}),a=document.documentElement;return o.observe(a),f("Attached VisibilityObserver to page"),{disconnect:()=>{o.disconnect(),f("Detached VisibilityObserver")}}}const Ot=t=>(o,a)=>{if(a in o){if(typeof o[a]===t)return o[a];throw new TypeError(`${a} is not a ${t}.`)}},Et=Ot(me),qe=Ot(N),Le=Ot(Oe);typeof window<"u"&&(function(){const t={height:()=>(U("Custom height calculation function not defined"),q.auto()),width:()=>(U("Custom width calculation function not defined"),F.auto())},o={bodyOffset:1,bodyScroll:1,offset:1,documentElementOffset:1,documentElementScroll:1,boundingClientRect:1,max:1,min:1,grow:1,lowestElement:1},a={},u=nt,d=[],y="scroll";let b,C,M,x,v,h,T,s=!0,m="",R=0,A="",Mt="",kt=!1,D=!0,Z=!1,Be=!0,jt=!1,ee=!1,En=!0,ge=!1,ve=1,k=u,xt="",Mn=!0,le={},kn=!1,Tt=!1,We=!1,w=0,At=!1,_=0,J=0,te=new Set,be="",jn="child",It=!1,Nt="",Ct=[],xn=window.parent,we="*",Pt=0,De=!1,ze=1,P=y,Rt=window,qt=()=>{U("onMessage function not defined")},Lt=()=>{},Fe=null,He=null;function Go(e){var n;(function(r){be=r[0]??be,R=he(r[1])??R,Z=K(r[2])??Z,We=K(r[3])??We,s=K(r[6])??s,A=r[7]??A,k=r[8]??k,m=r[9]??m,Mt=r[10]??Mt,Pt=he(r[11])??Pt,le.enable=K(r[12])??!1,jn=r[13]??jn,P=r[14]??P,At=K(r[15])??At,_=he(r[16])??_,J=he(r[17])??J,D=K(r[18])??D,b=r[19]??b,h=r[20]??h,w=he(r[21])??w,Tt=K(r[23])??Tt})(e),dt=(n={id:be,enabled:We,expand:Tt}).id||Ye,pe.label(`${dt}`),pe.expand(n.expand),ut=n.enabled,(function(){function r(c){T=Et(c,"onBeforeResize")??T,qt=Et(c,"onMessage")??qt,Lt=Et(c,"onReady")??Lt,typeof c?.offset===N&&(vo(et,tt),D&&(_=qe(c,et)??_),Z&&(J=qe(c,et)??J)),typeof c?.offsetSize===N&&(D&&(_=qe(c,tt)??_),Z&&(J=qe(c,tt)??J)),C=Le(c,X(Ee[0]))??C,xt=Le(c,"ignoreSelector")??xt,Nt=Le(c,"sizeSelector")??Nt,we=Le(c,"targetOrigin")??we,k=c?.heightCalculationMethod||k,P=c?.widthCalculationMethod||P}function i(c,g){return typeof c===me&&(O(`<rb>Deprecated Option(${g}CalculationMethod)</>

The use of <b>${g}CalculationMethod</> as a function is deprecated and will be removed in a future version of <i>iframe-resizer</>. Please use the new <b>onBeforeResize</> event handler instead.

See <u>https://iframe-resizer.com/api/child</> for more details.`),t[g]=c,c="custom"),c}if(w===1)return;const l=window.iframeResizer||window.iFrameResizer;typeof l===lo&&(r(l),k=i(k,Ke),P=i(P,Xt),f(`Set targetOrigin for parent: %c${we}`,I))})(),[tr,or,sr,Ko,nr,qn,Ln,ir,er,An,kt?ke:Oo,Cn,fr,dr,ur,rr,()=>Bt("background",m),()=>Bt("padding",Mt),kt?ke:ar,cr,lr,zr,Xo].forEach(r=>{try{r()}catch(i){if(w<0)throw i;O(`<rb>Error in setup function</>
<i>iframe-resizer</> detected an error during setup.

Please report the following error message at <u>https://github.com/davidjbradshaw/iframe-resizer/issues</>`),pn(i)}}),Tn(dn(Lt)),L(Xe,"Init message from host page",void 0,void 0,`${ne}:${w}`),document.title&&document.title!==""&&$(0,0,so,document.title)}function Yo({persisted:e}){e||$(0,0,"beforeUnload"),S(_t),f("Page persisted:",e),e||d.forEach(mo)}const Xo=()=>H(window,_t.toLowerCase(),Yo);function Tn(e){document.readyState==="complete"?Me(e):H(document,ot,()=>Tn(e))}function An(){Ct=document.querySelectorAll(`[${Se}]`),ge=Ct.length>0}let In=0;function Ko(){const e=document.querySelectorAll(`*[${fe}]`);return jt=e.length>0,jt&&e.length!==In&&((function(n){const r=n.length===1?"":"s";U(`%c[${fe}]%c found on %c${n.length}%c element${r}`,Je,G,Je,G)})(e),In=e.length),jt}function er(){document.compatMode==="BackCompat"&&O(`<rb>Quirks Mode Detected</>

This iframe is running in the browser's legacy <b>Quirks Mode</>, this may cause issues with the correct operation of <i>iframe-resizer</>. It is recommended that you switch to the modern <b>Standards Mode</>.

For more information see <u>https://iframe-resizer.com/quirks-mode</>.
`)}function tr(){h&&h!==""&&h!=="false"?h!==ne&&O(`<b>Version mismatch</>

The parent and child pages are running different versions of <i>iframe resizer</>.

Parent page: ${h} - Child page: ${ne}.
`):O(`<rb>Legacy version detected on parent page</>

Detected legacy version of parent page script. It is recommended to update the parent page to use <b>@iframe-resizer/parent</>.

See <u>https://iframe-resizer.com/setup/</> for more details.
`)}function nr(){try{It=w===1||"iframeParentListener"in window.parent}catch{}}function or(){Z===D&&(kt=!0)}function Bt(e,n){n!==void 0&&n!==""&&n!=="null"&&(document.body.style.setProperty(e,n),f(`Set body ${e}: %c${n}`,I))}function Nn(e,n,r){if(r!=="")for(const i of document.querySelectorAll(r))i.toggleAttribute(n,!0)}function Cn(){Nn(0,Se,Nt),Nn(0,fe,xt)}function rr(){var e,n;A===void 0&&(A=`${R}px`),Bt("margin",(e="margin",(n=A).includes("-")&&(U(`Negative CSS value ignored for ${e}`),n=""),n))}function ar(){const e=n=>n.style.setProperty(Ke,nt,"important");e(document.documentElement),e(document.body)}function Wt(e){({add(n){function r(){L(e.eventName,e.eventType)}a[n]=r,H(window,n,r,{passive:!0})},remove(n){const r=a[n];var i,l;delete a[n],i=n,l=r,window.removeEventListener(i,l,!1)}})[e.method](e.eventName)}function Pn(e){Wt({method:e,eventType:"After Print",eventName:"afterprint"}),Wt({method:e,eventType:"Before Print",eventName:"beforeprint"}),Wt({method:e,eventType:"Ready State Change",eventName:ot})}function ir(){let e=!1;const n=r=>document.querySelectorAll(`[${r}]`).forEach(i=>{e=!0,i.removeAttribute(r),i.toggleAttribute(Se,!0)});n("data-iframe-height"),n("data-iframe-width"),e&&O(`<rb>Deprecated Attributes</>
          
The <b>data-iframe-height</> and <b>data-iframe-width</> attributes have been deprecated and replaced with the single <b>data-iframe-size</> attribute. Use of the old attributes will be removed in a future version of <i>iframe-resizer</>.`)}function Rn(e,n,r){const{label:i}=r;return n!==e&&(e in r||(U(`${e} is not a valid option for ${i}CalculationMethod.`),e=n),e in o)&&O(`<rb>Deprecated ${i}CalculationMethod (${e})</>

This version of <i>iframe-resizer</> can auto detect the most suitable ${i} calculation method. It is recommended that you ${h?"remove this option.":`set this option to <b>'auto'</> when using an older version of <i>iframe-resizer</> on the parent page. This can be done on the child page by adding the following code:
          
window.iframeResizer = {
  license: 'xxxx',
  ${i}CalculationMethod: AUTO,
}
`}
`),e}function qn(){k=Rn(k,u,q)}function Ln(){P=Rn(P,y,F)}function sr(){const e=w,n=un({key:b}),r=un({key:C});if(w=Math.max(n,r),w<0){if(w=Math.min(n,r),xe(),O(`${re(w+2)}${re(2)}`),ae(h))throw re(w+2).replace(/<\/?[a-z][^>]*>|<\/>/gi,"")}else(!ae(h)||e>-1&&w>e)&&(sessionStorage.getItem("ifr")!==ne&&(function(i,l){console.info(`${dt} %ciframe-resizer ${i}`,ut||l<1?"font-weight: bold;":G)})(`v${ne} (${(i=>X(fo[i]))(w)})`,w),w<2&&O(re(3)),sessionStorage.setItem("ifr",ne))}function lr(){Pn("add"),d.push(()=>Pn("remove"))}function cr(){const e=document.createElement("div");e.style.clear="both",e.style.display="block",e.style.height="0",document.body.append(e)}function ur(){function e(l){const c=l.getBoundingClientRect(),g={x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop};return{x:parseInt(c.left,oe)+parseInt(g.x,oe),y:parseInt(c.top,oe)+parseInt(g.y,oe)}}function n(l){const c=l.split("#")[1]||l,g=decodeURIComponent(c),z=document.getElementById(g)||document.getElementsByName(g)[0];z===void 0?$(0,0,"inPageLink",`#${c}`):(function(j){const p=e(j);$(p.y,p.x,Gt)})(z)}function r(){const{hash:l,href:c}=window.location;l!==""&&l!=="#"&&n(c)}const{enable:i}=le;i&&(w===1?O(re(5)):((function(){for(const l of document.querySelectorAll('a[href^="#"]'))l.getAttribute("href")!=="#"&&H(l,"click",c=>{c.preventDefault(),n(l.getAttribute("href"))})})(),H(window,"hashchange",r),setTimeout(r,128))),le={...le,findTarget:n}}function dr(){function e(r){$(0,0,r.type,`${r.screenY}:${r.screenX}`)}function n(r,i){H(window.document,r,e)}At===!0&&(n("mouseenter"),n("mouseleave"))}function fr(){w!==1&&(Rt.parentIframe=Object.freeze({autoResize:e=>(E(e,"boolean","parentIframe.autoResize(enable) enable"),Z===!1&&D===!1?(S(it),O("Auto Resize can not be changed when <b>direction</> is set to 'none'."),!1):(e===!0&&s===!1?(s=!0,queueMicrotask(()=>L(it,"Auto Resize enabled"))):e===!1&&s===!0&&(s=!1),$(0,0,"autoResize",JSON.stringify(s)),s)),close(){$(0,0,"close")},getId:()=>be,getOrigin:()=>(S("getOrigin"),pt("getOrigin()","getParentOrigin()"),M),getParentOrigin:()=>M,getPageInfo(e){if(typeof e===me)return Fe=e,$(0,0,Jt),void go("getPageInfo()","getParentProps()","See <u>https://iframe-resizer.com/upgrade</> for details. ");Fe=null,$(0,0,"pageInfoStop")},getParentProps:e=>(E(e,me,"parentIframe.getParentProps(callback) callback"),He=e,$(0,0,Qt),()=>{He=null,$(0,0,"parentInfoStop")}),getParentProperties(e){pt("getParentProperties()","getParentProps()"),this.getParentProps(e)},moveToAnchor(e){E(e,Oe,"parentIframe.moveToAnchor(anchor) anchor"),le.findTarget(e)},reset(){(function(){const e=k;k=u,De||(De=!0,requestAnimationFrame(()=>{De=!1})),Zn("reset"),k=e})()},setOffsetSize(e){E(e,N,"parentIframe.setOffsetSize(offset) offset"),_=e,J=e,L(nn,`parentIframe.setOffsetSize(${e})`)},scrollBy(e,n){E(e,N,"parentIframe.scrollBy(x, y) x"),E(n,N,"parentIframe.scrollBy(x, y) y"),$(n,e,"scrollBy")},scrollTo(e,n){E(e,N,"parentIframe.scrollTo(x, y) x"),E(n,N,"parentIframe.scrollTo(x, y) y"),$(n,e,"scrollTo")},scrollToOffset(e,n){E(e,N,"parentIframe.scrollToOffset(x, y) x"),E(n,N,"parentIframe.scrollToOffset(x, y) y"),$(n,e,Gt)},sendMessage(e,n){n&&E(n,Oe,"parentIframe.sendMessage(msg, targetOrigin) targetOrigin"),$(0,0,Zt,JSON.stringify(e),n)},setHeightCalculationMethod(e){k=e,qn()},setWidthCalculationMethod(e){P=e,Ln()},setTargetOrigin(e){E(e,Oe,"parentIframe.setTargetOrigin(targetOrigin) targetOrigin"),we=e},resize(e,n){e!==void 0&&E(e,N,"parentIframe.resize(customHeight, customWidth) customHeight"),n!==void 0&&E(n,N,"parentIframe.resize(customHeight, customWidth) customWidth"),L(en,`parentIframe.resize(${e||""}${n?`,${n}`:""})`,e,n)},size(e,n){pt("size()","resize()"),this.resize(e,n)}}),Rt.parentIFrame=Rt.parentIframe)}let Bn=new Set;function Wn(){const e=document.querySelectorAll(`[${Yt}]`);te=(function(n){const r=new Set,i=new Set;for(const l of n)l.closest(`[${fe}]`)?i.add(l):r.add(l);return i.size>0&&queueMicrotask(()=>{S("overflowIgnored"),f(`Ignoring elements with [data-iframe-ignore] > *:
`,i),ie()}),r})(e),ee=te.size>0,typeof Set.prototype.symmetricDifference===me&&(En=te.symmetricDifference(Bn).size>0),Bn=te}function mr(){switch(Wn(),!0){case!En:return;case te.size>1:f("Overflowed Elements:",te);break;case ee:break;default:f("No overflow detected")}L(st,"Overflow updated")}function pr(e){const n={root:document.documentElement,side:D?rt:at};return x=Do(mr,n),x.attachObservers(e),x}function hr(e){if(!Array.isArray(e)||e.length===0)return;const n=e[0].target;L(on,`Element resized <${(function(r){switch(!0){case!ae(r):return"";case ae(r.id):return`${r.nodeName}#${r.id}`;case ae(r.name):return`${r.nodeName} (${r.name}`;case ae(r.className):return`${r.nodeName}.${r.className}`;default:return r.nodeName}})(n)}>`)}function yr(e){return ye=new ResizeObserver(hr),ye.observe(document.body),Re.add(document.body),f("Attached ResizeObserver to body"),v={attachObserverToNonStaticElements:Jo,detachObservers:wn(Pe,ye,Re,Vo),disconnect:()=>{ye.disconnect(),f("Detached ResizeObserver")}},v.attachObserverToNonStaticElements(e),v}function gr(e){kn=!e,L(an,"Visibility changed")}const Dn=e=>{const n=new Set;for(const r of e){n.add(r);for(const i of Dt(r))n.add(i)}return f(`Inspecting:
`,n),n},vr=e=>{if(e.size===0)return;S("addObservers");const n=Dn(e);x.attachObservers(n),v.attachObserverToNonStaticElements(n),ie()},br=e=>{if(e.size===0)return;S("removeObservers");const n=Dn(e);x.detachObservers(n),v.detachObservers(n),ie()};function wr(e){(function({addedNodes:n,removedNodes:r}){S("contentMutated"),Cn(),An(),Wn(),ie(),br(r),vr(n)})(e),L(rn,"Mutation Observed")}function zr(){const e=Dt(document.documentElement);var n;n=[Po(wr),pr(e),Ho(),yr(e),Qo(gr)],d.push(...n.map(r=>r.disconnect))}function Ue(e){performance.mark(wt);const n=fn(e);let r=1,i=document.documentElement,l=ge?0:document.documentElement.getBoundingClientRect().bottom;const c=ge?Ct:ee?Array.from(te):Dt(document.documentElement);for(const g of c)r=g.getBoundingClientRect()[e]+parseFloat(getComputedStyle(g).getPropertyValue(`margin-${e}`)),r>l&&(l=r,i=g);return f(`${n} position calculated from:`,i),f(`Checked %c${c.length}%c elements`,I,Ge),performance.mark(Ne,{detail:{hasTags:ge,len:c.length,logging:We,Side:n}}),l}const Ve=e=>[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll(),e.boundingClientRect()],$r=`* ${Array.from(sn).map(e=>`:not(${e})`).join("")}`,Dt=e=>e.querySelectorAll($r),Ze={height:0,width:0},ce={height:0,width:0},Q=[I,Ge,I];function Fn(e){function n(){return ce[i]=l,Ze[i]=z,Math.max(l,1)}const r=e===q,i=e.label,l=e.boundingClientRect(),c=Math.ceil(l),g=Math.floor(l),z=(B=>B.documentElementScroll()+Math.max(0,B.getOffset()))(e),j=`HTML: %c${l}px %cPage: %c${z}px`;let p=1;switch(!0){case!e.enabled():return Math.max(z,1);case ge:f("Found element with data-iframe-size attribute"),p=e.taggedElement();break;case(!ee&&Be&&ce[i]===0&&Ze[i]===0):f(`Initial page size values: ${j}`,...Q),p=n();break;case(De&&l===ce[i]&&z===Ze[i]):f(`Size unchanged: ${j}`,...Q),p=Math.max(l,z);break;case(l===0&&z!==0):f(`Page is hidden: ${j}`,...Q),p=z;break;case(!ee&&l!==ce[i]&&z<=Ze[i]):f(`New <html> size: ${j} `,...Q),f(`Previous <html> size: %c${ce[i]}px`,I),p=n();break;case!r:p=e.taggedElement();break;case(!ee&&l<ce[i]):f(`<html> size decreased: ${j}`,...Q),p=n();break;case(z===g||z===c):f(`<html> size equals page size: ${j}`,...Q),p=n();break;case l>z:f(`Page size < <html> size: ${j}`,...Q),p=n();break;case ee:f("Found elements possibly overflowing <html> "),p=e.taggedElement();break;default:f(`Using <html> size: ${j}`,...Q),p=n()}return f(`Content ${i}: %c${p}px`,I),p+=(function(B){const ue=B.getOffset();return ue!==0&&f(`Page offsetSize: %c${ue}px`,I),ue})(e),Math.max(p,1)}const q={label:Ke,enabled:()=>D,getOffset:()=>_,auto:()=>Fn(q),bodyOffset:()=>{const{body:e}=document,n=getComputedStyle(e);return e.offsetHeight+parseInt(n.marginTop,oe)+parseInt(n.marginBottom,oe)},bodyScroll:()=>document.body.scrollHeight,offset:()=>q.bodyOffset(),custom:()=>t.height(),documentElementOffset:()=>document.documentElement.offsetHeight,documentElementScroll:()=>document.documentElement.scrollHeight,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().bottom,document.body.getBoundingClientRect().bottom),max:()=>Math.max(...Ve(q)),min:()=>Math.min(...Ve(q)),grow:()=>q.max(),lowestElement:()=>Ue(rt),taggedElement:()=>Ue(rt)},F={label:Xt,enabled:()=>Z,getOffset:()=>J,auto:()=>Fn(F),bodyScroll:()=>document.body.scrollWidth,bodyOffset:()=>document.body.offsetWidth,custom:()=>t.width(),documentElementScroll:()=>document.documentElement.scrollWidth,documentElementOffset:()=>document.documentElement.offsetWidth,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().right,document.body.getBoundingClientRect().right),max:()=>Math.max(...Ve(F)),min:()=>Math.min(...Ve(F)),rightMostElement:()=>Ue(at),scroll:()=>Math.max(F.bodyScroll(),F.documentElementScroll()),taggedElement:()=>Ue(at)},Hn=(e,n)=>!(Math.abs(e-n)<=Pt);function Un(e,n){const r=e[n](),i=e.enabled()&&T!==void 0?(function(l){const c=T(l);if(c===void 0)throw new TypeError("No value returned from onBeforeResize(), expected a numeric value");if(Number.isNaN(c))throw new TypeError(`Invalid value returned from onBeforeResize(): ${c}, expected Number`);if(c<1)throw new RangeError(`Out of range value returned from onBeforeResize(): ${c}, must be at least 1`);return c})(r):r;return ho(i>=1,`New iframe ${e.label} is too small: ${i}, must be at least 1`),i}let _e=!1;const Sr=dn(()=>O(re(4)));let Vn,Ft=!1;const L=ft((e,n,r,i,l)=>{switch(S(e),!0){case kn===!0:if(Ft===!0)break;Ft=!0,_e=!1,cancelAnimationFrame(Vn);break;case(_e===!0&&e!==st):xe();break;case(!s&&!(e in co)):f("Resizing disabled");break;default:Ft=!1,_e=!0,performance.now(),Vn=requestAnimationFrame(()=>{_e=!1,S("requestAnimationFrame")}),(function(c,g,z,j,p){const B=z??Un(q,k),ue=j??Un(F,P);switch(D&&Hn(ve,B)||Z&&Hn(ze,ue)?Kt:c){case Xe:case it:case Kt:ve=B,ze=ue;case nn:_n(ve,ze,c,p);break;case st:case rn:case on:case an:xe();break;default:xe(),f("No change in content size detected")}})(e,0,r,i,l)}ie()});function Zn(e){ve=q[k](),ze=F[P](),$(ve,ze,e)}function _n(e,n,r,i,l){w<-1||(l!==void 0||(l=we),(function(){const c=`${be}:${e}:${n}:${r}${i===void 0?"":`:${i}`}`;if(It)try{window.parent.iframeParentListener(lt+c)}catch(g){if(w!==1)throw g;return void Sr()}else xn.postMessage(lt+c,l);f(`Sending message to parent page via ${It?"sameOrigin":"postMessage"}: %c%c${c}`,Ht,I)})())}const $=ft((e,n,r,i,l)=>{S(r),_n(e,n,r,i,l),ie()}),Jn=ft(function(e){S("onMessage");const{freeze:n}=Object,{parse:r}=JSON,i=p=>$(0,0,`${p}Stop`),l={init:function(){if(document.readyState==="loading")return;const p=e.data.slice(13).split($e);xn=e.source,M=e.origin,Go(p),Be=!1,setTimeout(()=>{Mn=!1},128)},reset(){Mn||Zn("resetPage")},resize(){L(tn,"Parent window requested size check")},moveToAnchor(){le.findTarget(g())},inPageLink(){this.moveToAnchor()},pageInfo(){const p=g();Fe?Me(Fe,r(p)):i(Jt)},parentInfo(){const p=(B=g(),n(r(B)));var B;He?Me(He,p):i(Qt)},message(){const p=g();Me(qt,r(p))}},c=()=>e.data.split("]")[1].split($e)[0],g=()=>e.data.slice(e.data.indexOf($e)+1),z=()=>e.data.split($e)[2]in{true:1,false:1};function j(){const p=c();S(p),p in l?l[p]():"iframeResize"in window||window.jQuery!==void 0&&""in window.jQuery.prototype||z()||U(`Unexpected message (${e.data})`)}lt===`${e.data}`.slice(0,13)&&(function(){if(Be!==!1)return z()?(yo(c()),S(Xe),void l.init()):void 0;j()})()});let Qn=!1;const Gn=e=>e.postMessage("[iFrameResizerChild]Ready",window?.iframeResizer?.targetOrigin||"*");function Yn(){if(document.readyState==="loading"||!Be||Qn)return;const{parent:e,top:n}=window;S("ready"),Gn(e),e!==n&&Gn(n),Qn=!0}"iframeChildListener"in window?U("Already setup"):(window.iframeChildListener=e=>setTimeout(()=>Jn({data:e,sameOrigin:!0})),H(window,Zt,Jn),H(document,ot,Yn),Yn())})()})()),Xn}Or();document.addEventListener("click",()=>{window.top.document.querySelector(".styleguideSelectOpened")&&window.top.document.querySelector(".styleguideSelectOpened").classList.remove("styleguideSelectOpened")});
